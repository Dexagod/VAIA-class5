<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <link rel="stylesheet" href="_shared/styles/shower-ruben.css">
  <link rel="stylesheet" href="_shared/styles/web-fundamentals.css">

  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <title>Querying the Web of data</title>
</head>
<body class="shower list">
  <header class="caption">
    <h1>
      <a class="series" href="#title">VAIA Course</a><br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h1>
  </header>

  <div class="title slide" id="title">
    <h2>
      <a class="series" href="#title">VAIA Course</a><br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <p>hosted by: 
      <br>
      <a href="https://pod.rubendedecker.be/profile/card#me">Ruben Dedecker</a>
      <br>
      <a href="https://github.com/woutslabbinck/">Wout Slabbinck</a>
      <br>
      <a href="https://pietercolpaert.be/#me">Pieter Colpaert</a>
    </p>
    <p class="affiliation">
      <a href="http://www.ugent.be/"><img  class="ugent"  src="_shared/images/logos/ugent.svg"  alt="Ghent University"></a>
      <a href="http://www.imec.be/"><img class="imec" src="_shared/images/logos/imec.svg" alt="imec"></a>
      <a href="http://idlab.ugent.be/"><img class="idlab" src="_shared/images/logos/idlab.svg" alt="IDLab"></a>
    </p>
  </div>


  <div class="slide" id="you-are-here">
    <figure class="cover width margin">
      <img src="images/youarehere.png" style="width: 90%" />
    </figure>
  </div>
  

  <div class="slide" id="what-is-a-triple">
    <h3>Linked Data in its essence</h3>
    <ul>
      <li>
        Triples represent statements
        <ul>
          <li>
            <pre><code>&lt;something&gt; &lt;has a relation to&gt; &lt;something else&gt; .</code></pre>
          </li>
        </ul>
      </li>
      <li>
        Web addresses (IRIs, URIs) as global identifiers
        <ul>
          <li>
            <i>= The Resource Fescription Framework (RDF)</i>
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="complicated">
    <h2>
      Simple tasks should be simple,<br>
      complex tasks should be manageable.
    </h2>
    <blockquote>
      <p class="no-next" style="font-weight: bold; font-style: italic;">
        People think RDF is a pain<br>
        because it is complicated.<br>
        The truth is even worse.
      </p>
      <p class="no-next" style="font-weight: bold; font-style: italic;">
        RDF is painfully simplistic,<br>
        but it allows you to work with real-world data<br>
        and problems that are horribly complicated.
      </p>
      <cite><a href="https://book.validatingrdf.com/bookHtml005.html">Dan Brickley &amp; Libby Miller</a></cite>
    </blockquote>
  </div>




  <div class="slide" id="today">
    <h2>
      Today
    </h2>
    <ul>
      <li>
        We look at how to query Linked Data on the Web
      </li>
      <li>
        And how you can participate by making your data available for querying as well!
      </li>
    </ul>
  </div>

  <div class="slide toc" id="toc-ecosystem">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li class="current">
        <a href="#toc-ecosystem">Linked Data on the Web</a>
      </li>
      <li>
        <a href="#toc-publishing">Linked Data Publishing</a>
      </li>
      <li>
        <a href="#toc-querying">Querying with Comunica using SPARQL</a>
      </li>
    </ul>
  </div>


  <div class="slide " id="data-on-the-web">
    <h2>Data on the Web</h2>
    <ul>
      <li class="no-next">
        Data makes sense in the context of its retrieval
        <ul>
          <li>https://photoplatform.com/images/APIs/meta?imageid=191391932141.jpg</li>
        </ul>
      </li>
      <li class="no-next">
        APIs carry the context of the data
        <ul>
          <li>
            this metadata is tied to the image at <br>
            https://photoplatform.com/images/APIs/image?imageid=191391932141.jpg
          </li>
        </ul>
      </li>
      <li class="no-next">Integration requires high effort</li>
    </ul>
  </div>
  
  <div class="slide" id="tight-coupling-on-the-web">
    <h2>Tight coupling between applications and data</h2>
    <figure class="width margin">
      <img src="images/state_current_web.svg" alt="Current Web Ecosystem" style="width: 90%;" />
    </figure>
  </div>




  <div class="slide " id="linked-data-on-the-web-intro">
    <h2>
      Linked Data on the Web
    </h2>
    <ul>
      <li>
        Linked Data can include its own context
        <ul>
          <li>
            A <code>foaf:name</code> property describes the name of something.
          </li>
        </ul>
      </li>
      <li>
        Linked Data can be provided in many formats
        <ul>
          <li>
            An RDF document represents a data graph.
          </li>
          <li>
            Through this data graph, we can convert between formats.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide " id="linked-data-turtle">
    <h2>
      it can be a turtle serialization
    </h2>
    <figure class="width margin">
      <img src="images/linked-data-ttl.svg" />
    </figure>
  </div>

  <div class="slide " id="linked-data-jsonld">
    <h2>
      it can be a json-ld serialization
    </h2>
    <figure class="width margin" style="width: 100%;">
      <img src="images/linked-data-jsonld.svg" />
    </figure>
  </div>

  <div class="slide " id="linked-data-script">
    <h2>
      it can be embedded in a Web page as a script
    </h2>
    <figure class="width margin">
      <img src="images/linked-data-script.svg" />
    </figure>
  </div>

  <div class="slide " id="linked-data-rdfa">
    <h2>
      or it can be embedded directly into the HTML as RDFa
    </h2>
    <figure class="width margin">
      <img src="images/linked-data-rdfa.svg" />
    </figure>
  </div>
  
<!-- 


  
  <div class="slide " id="api-integration-limitations">
    <h2>Integrating APIs is not scalable</h2>
    <ul>
      <li>
        APIs can take any number of different shapes
        <ul>
          <li>
            Integration requires manual effort
          </li>
          <li>
            Standardization can happen over large platforms
          </li>
        </ul>
      </li>
      <li>
        They are often designed to provide access to a select set of data to enable a select set of functionality
      </li>
    </ul>
  </div>

  <div class="slide " id="api-integration-limitations">
    <h2>Integrating APIs is not scalable</h2>
    <ul>
      <li>
        APIs can take any number of different shapes
        <ul>
          <li>
            Integration requires manual effort
          </li>
          <li>
            Standardization can happen over large platforms
          </li>
        </ul>
      </li>
      <li>
        APIs contain implicit context about served data
        <ul>
          <li>
            Integration requires manual effort
          </li>
          <li>
            Standardization can happen over large platforms
          </li>
        </ul>
      </li>
    </ul>
  </div>





  <div class="slide " id="overview">
    <h2>Moving towards a scalable Web ecosystem</h2>
    <ul>
      <li>To tackle these challenges, we need to find solutions </li>
      <li class="no-next">There is no inherent scalability in the integration of APIs</li>
      <li class="no-next">Scalability comes from integration of data</li>
    </ul>
  </div>



  <div class="slide " id="overview">
    <h2>Data publication on the Web</h2>
    <ul>
      <li class="no-next">The current Web provides scalability in number of clients, not in number data sources</li>
      <li class="no-next">There is no inherent scalability in the integration of APIs</li>
      <li class="no-next">Scalability comes from integration of data</li>
    </ul>
  </div>


  <div class="slide " id="web_scalability">
    <h2>A Web of API integration</h2>
    <ul>
      <li class="no-next">The current Web provides scalability in amount of clients, not in amount data sources</li>
      <li class="no-next">There is no inherent scalability in the integration of APIs</li>
      <li class="no-next">Scalability comes from integration of data</li>
    </ul>
  </div>

  <div class="slide " id="data_silos">
    <h2>Data Silos on the Web</h2>
    <img src="logos.png" style="height: 50vh;" />
  </div>

  <div class="slide " id="data_silos">
    <h2>Dependency of APIs leads to centralization</h2>
    <ul>
      <li>
        We want to be independent of these data Silos
        <ul>
          <li>
            We need solutions that enable us to scale our requests to higher numbers of data sources without integrating a new API for each source    
          </li>
        </ul>
      </li>
    </ul>
    <p style="color:red; font-weight: bold;">TODO:: slide</p>
  </div>

  <div class="slide " id="data_silos">
    <h2>What do we need for this scalability</h2>
    <ul>
      <li>
        We need to be able to understand the data,
        independently of the API over which it was retrieved.
        <ul>
          <li>We cannot read the documentation of 100 APIs to understand how to interpret returned data."</li>
        </ul>
      </li>
      <li>
        We need to provide interfaces that can move this data from servers to clients in a way that works for both
        <ul>
          <li>
            As APIs are no longer tailor made for a single usecase, 
            not every server will be able to provide exactly what any client requires. 
          </li>
        </ul>
      </li>
    </ul>
    <p style="color:red; font-weight: bold;">TODO:: slide</p>
  </div> 

-->



  <div class="slide toc" id="toc-publishing">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li>
        <a href="#toc-ecosystem">Linked Data on the Web</a>
      </li>
      <li class="current">
        <a href="#toc-publishing">Linked Data Publishing</a>
        <ul>
          <li class="current">
            <a href="#toc-publishing">Data publishing strategies</a>
          </li>
          <li>
            <a href="#toc-ldes">A low-cost high-reuse interface</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#toc-querying">Querying with Comunica using SPARQL</a>
      </li>
    </ul>
  </div>


  <div class="slide " id="data_publishing_strategies">
    <h2>Different data publishing strategies</h2>
    <ul>
      <li class="no-next">
        <a href="https://ruben.verborgh.org/blog/2021/12/23/reflections-of-knowledge/#universal-api">
          There is no universal API that satisfies the data selection needs of all clients
        </a>
      </li>
      <li class="no-next">
        API design needs to balance client data selection requirements with the capabilities of the data publisher.
      </li>
    </ul>
  </div>

  
  <div class="slide" id="data-dump-example">
    <h2>
      We can dump all dataset triples <br>
      in one or more archive files.
    </h2>
    <iframe class="website" src="https://downloads.dbpedia.org/2016-04/core/"></iframe>
  </div>
  

  <div class="slide" id="data-dump">
    <h2>
      A data dump places all dataset triples <br>
      in one or more archive files.
    </h2>
    <ul>
      <li>
        Dumps need to be downloaded entirely<br>
        before they can be queried.
        <ul>
          <li>Dump files can be several gigabytes.</li>
        </ul>
      </li>
      <li class="no-next">
        They offer the client full flexibility<br>
        to choose how data is processed.
      </li>
      <li class="no-next">
        Keeping data up-to date requires effort.
        <ul>
          <li>redownload the entire dump</li>
          <li>download and apply incremental patches</li>
        </ul>
      </li>
    </ul>
  </div>


  <div class="slide" id="sparql-endpoint-example">
    <h2>
      We can provide the clients with a queryable interface.
    </h2>
    <iframe class="website" src="https://query.linkeddatafragments.org/"></iframe>
  </div>

  <div class="slide" id="sparql-endpoint">
    <h2>
      A&nbsp;SPARQL endpoint lets clients evaluate<br>
      arbitrary (read-only) queries on a&nbsp;server.
    </h2>
    <ul>
      <li class="no-next">
        This gives clients direct access to<br>
        (only) the data they are interested in.
        <ul>
          <li>Only very little bandwidth is required.</li>
        </ul>
      </li>
      <li class="no-next">
        Data is always up-to-date.
      </li>
      <li class="no-next">
        The per-request cost for SPARQL endpoints<br>
        is much higher than for other HTTP servers.
        <ul>
          <li>Few servers allow arbitrarily complicated queries.</li>
        </ul>
      </li>
    </ul>
  </div>


  <div class="slide" id="linked-data-spectrum">
    <h2>
      Possible Linked Data interfaces exist<br>
      in between the two extremes.
    </h2>
    <iframe class="image" src="images/ldf-axis.svg"></iframe>
  </div>


  <div class="slide" id="linked-data-documents-example">
    <h2>
      Linked Data documents provide<br>
      per-topic access to a&nbsp;dataset.
    </h2>
    <iframe class="website" src="https://www.wikidata.org/wiki/Q80"></iframe>
  </div>

  <div class="slide" id="linked-data-documents">
    <h2>
      Linked Data documents provide<br>
      per-topic access to a&nbsp;dataset.
    </h2>
    <ul>
      <li class="no-next">
        They follow the <a href="../semantic-web/#linked-data-principles">Linked Data principles</a>.
        <ul>
          <li>The information structure resembles typical webpages.</li>
        </ul>
      </li>
      <li class="no-next">
        Browsing up-to-date datasets is straightforward.
      </li>
      <li class="no-next">
        Query evaluation is possible through<br>
        <a href="http://squin.sourceforge.net/index.shtml">link-traversal-based querying</a>.
        <ul>
          <li>
            The evaluation of SPARQL queries is rather slow.
          </li>
          <li>
            Completeness cannot always be guaranteed.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide " id="linked-data-platform-example">
    <h2>
      Linked Data Platform provides a
      <br>
      file-system like interface
    </h2>
    <iframe class="website" src="https://woutslabbinck.inrupt.net/"></iframe>
  </div>

  <div class="slide " id="linked-data-platform">
    <h2>
      Linked Data Platform provides a
      <br>
      file-system like interface
    </h2>
    <ul>
      <li class="no-next">
        <a href="https://www.w3.org/TR/ldp/">Browsing the document hierarchy is straightforward</a>
        <ul>
          <li>
            The document hierarchy is recognizable for your average user.
          </li>
        </ul>
      </li>
      <li class="no-next">
        <a href="http://squin.sourceforge.net/index.shtml">Query evaluation is possible through link-traversal-based querying.</a>
        <ul>
          <li>
            The creation of specific indexes can speed up the process.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  
  <div class="slide" id="tpf-example">
    <h2>
      Can we make our query interface more lightweight?
    </h2>
    <ul>
      <li>
        What if we allow the user only to ask specific lightweight queries?
      </li>
    </ul>
  </div>
  
  
  <div class="slide" id="tpf-example">
    <h2>
      This Triple Pattern Fragment shows<br>
      <a href="https://fragments.dbpedia.org/2016-04/en?subject=&amp;predicate=http%3A%2F%2Fdbpedia.org%2Fontology%2FbirthPlace&amp;object=http%3A%2F%2Fdbpedia.org%2Fresource%2FLondon">subjects born in London</a> from <a href="https://wiki.dbpedia.org/">DBpedia</a>.
    </h2>
    <iframe class="website" src="https://fragments.dbpedia.org/2016-04/en?subject=&amp;predicate=http%3A%2F%2Fdbpedia.org%2Fontology%2FbirthPlace&amp;object=http%3A%2F%2Fdbpedia.org%2Fresource%2FLondon"></iframe>
  </div>
  
  <div class="slide" id="hdt">
    <h2>
      Triple Pattern Fragments are lightweight,<br>
      because they do not <em>require</em> a&nbsp;triple store.
    </h2>
    <ul>
      <li>
        The interface can be realized with many back-ends.<br>
        <ul>
          <li>A&nbsp;SPARQL endpoint <em>could</em> serve as back-end.</li>
        </ul>
      </li>
      <li class="no-next">
        Since queries are relatively simple,<br>
        a&nbsp;less expensive data infrastructure is sufficient.
      </li>
    </ul>
  </div>

<!-- 
  <div class="slide " id="publishing_tree_ldes">
    <h2>TREE Hypermedia - Linked Data Event Streams (LDES)</h2>
    <ul>
      <li class="no-next">
        <a href="https://w3id.org/tree/specification">TREE Hypermedia Specification</a>
        <ul>
          <li>Collection of RDF items (members)</li>
          <li>Hypermedia relations to query the collection</li>
        </ul>
      </li>
      <li class="no-next">
        <a href="https://w3id.org/ldes/specification">Linked Data Event Stream</a> 
        <ul>
          <li>Extension of a TREE collection where each member is immutable</li>
          <li>
      </li>
    </ul>
  </div>

  <div class="slide " id="publishing_tree_ldes-example">
    <h2>TREE Hypermedia - Linked Data Event Streams (LDES)</h2>
    TODO: maybe use Pieter C slides? -> this demo currently sucks...
    <iframe class="website" src="https://treecg.github.io/TREE-LDES-visualizer/"></iframe>
  </div> 
-->

  <div class="slide" id="no-final-answer">
    <h2>
      These interfaces are not the final answer.
    </h2>
    <ul>
      <li class="no-next">
        There’s no <em>silver bullet</em>.<br>
        Publication and querying <em>always</em> involves trade-offs.
      </li>
      <li class="no-next">
        For a scalable Web, we require <strong>simple servers</strong>
        that enable <strong>smart clients</strong> to efficiently query data.
      </li>
      <li>
        By publishing data over such simple interfaces,<br>
        we can enable high reuse for specific usecases!
      </li>
    </ul>
  </div>




  <div class="slide toc" id="toc-ldes">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li>
        <a href="#toc-ecosystem">Linked Data on the Web</a>
      </li>
      <li class="current">
        <a href="#toc-publishing">Linked Data Publishing</a>
        <ul>
          <li>
            <a href="#toc-publishing">Data publishing strategies</a>
          </li>
          <li class="current">
            <a href="#toc-ldes">A low-cost high-reuse interface</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#toc-querying">Querying Linked Data with Comunica</a>
      </li>
      <li>
        <a href="#toc-comunica">The SPARQL query language</a>
      </li>
    </ul>
  </div>

  <div class="slide title" id="low-cost-high-reuse">
    <h2>Building interfaces for low-cost and high-reuse</h2>
    
    <p>by:
      <a href="https://pietercolpaert.be/#me">Pieter Colpaert</a>
    </p>
  </div>



  <div class="slide toc" id="toc-querying">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li>
        <a href="#toc-ecosystem">Linked Data on the Web</a>
      </li>
      <li>
        <a href="#toc-publishing">Linked Data Publishing</a>
      </li>
      <li class="current">
        <a href="#toc-querying">Querying with Comunica using SPARQL</a>
      </li>
    </ul>
  </div>

  <div class="slide " id="comunica">
    <h2><a href="https://comunica.dev">Comunica</a></h2>
    <ul>
      <li class="no-next">A knowledge graph querying framework</li>
      <li class="no-next">Querying over heterogeneous interfaces</li>
      <ul>
        <li class="no-next">Goal: executing <b>SPARQL</b> queries over one or more <b>interfaces</b></li>
      </ul>
      <li class="no-next"></li>
    </ul>
    <footer class="notes">
      <a href="https://comunica.dev/about/">Comunica</a> is a querying framework that has been designed to handle different types of Linked Data interfaces in a flexible manner. Its primary goal is executing SPARQL queries over one or more interfaces.

      SPARQL Protocol And RDF Query Language
    </footer>
  </div>
<!-- 
  <div class="slide " id="comunica">
    <h2><a href="https://comunica.dev">Search spaces are not always well-defined</a></h2>
    <ul>
      <li class="no-next">
        Comunica supports query evaluation with link traversal
        <ul>
          <li>
            By following the links available in the discovered data <br>
            we can query data spaces of which we only know a single entry
          </li>
        </ul>
      </li>
      <li class="no-next">Querying over heterogeneous interfaces</li>
      <ul>
        <li class="no-next">Goal: executing <b>SPARQL</b> queries over one or more <b>interfaces</b></li>
      </ul>
      <li class="no-next"></li>
    </ul>
    <footer class="notes">
      <a href="https://comunica.dev/about/">Comunica</a> is a querying framework that has been designed to handle different types of Linked Data interfaces in a flexible manner. Its primary goal is executing SPARQL queries over one or more interfaces.

      SPARQL Protocol And RDF Query Language
    </footer>
  </div> -->
  
  
  <div class="slide " id="comunica-federated">
    <h2><a href="https://comunica.dev">
      One source does not always expose
      <br>
      the full data space we want to query
    </a></h2>
    <ul>
      <li class="no-next">
        Comunica supports federated querying evaluation.
        <ul>
          <li>
            By providing multiple data sources
            the Comunica engine can evaluate queries 
            over the combined knowledge graphs of these data sources.
          </li>
        </ul>
      </li>
    </ul>
  </div>


  <div class="slide" id="comunica-federated-example">
    <h2><a href="https://comunica.dev">
      One source does not always expose
      <br>
      the full data space we want to query
    </a></h2>
    <iframe class="query-client" src="https://query.linkeddatafragments.org/#datasources=https%3A%2F%2Fruben.verborgh.org%2Fprofile%2F;https%3A%2F%2Fwww.rubensworks.net%2F&query=SELECT%20DISTINCT%20*%20WHERE%20%7B%0A%20%20%20%20rubent%3Ame%20foaf%3Aknows%20%3Fperson.%0A%20%20%20%20ruben%3Ame%20foaf%3Aknows%20%3Fperson.%0A%20%20%20%20%3Fperson%20foaf%3Aname%20%3Fname.%0A%7D%0A%20%20%20%20"></iframe>
  </div>



  <div class="slide " id="comunica-link-traversal">
    <h2><a href="https://comunica.dev">
      We don't always know on beforehand
      <br>
      where the data we look for is located
    </a></h2>
    <ul>
      <li class="no-next">
        Comunica supports query evaluation with link traversal
        <ul>
          <li>
            By following the links available in the discovered data <br>
            we can query data spaces of which we only know a single entry.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="comunica-link-traversal-example">
    <h2><a href="https://comunica.dev">
      We don't always know on beforehand
      <br>
      where the data we look for is located
    </a></h2>
    <iframe class="query-client" src="https://comunica.github.io/comunica-feature-link-traversal-web-clients/builds/solid-default/#datasources=;https%3A%2F%2Fdrive.verborgh.org%2F&query=PREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0APREFIX%20sioc%3A%20%3Chttp%3A%2F%2Frdfs.org%2Fsioc%2Fns%23%3E%0ASELECT%20%3Fmessage%20%3Fauthor%20WHERE%20%7B%0A%20%20%3Fid%20sioc%3Acontent%20%3Fmessage.%0A%20%20%3Fid%20foaf%3Amaker%20%3Fauthor.%0A%7D"></iframe>
  </div>

  
  

  <div class="slide" id="sparql-language-protocol">
    <h2>
      <a href="https://www.w3.org/TR/sparql11-overview/">SPARQL Protocol And RDF Query Language</a>:
      enable querying &amp; updating RDF datasets.
    </h2>
    <ul>
      <li class="next">
        <a href="#sparql-query-forms">SPARQL</a> is a query language.
        <ul>
          <li>Select specific data from an RDF dataset.</li>
          <li>Insert, change, or delete data in an RDF dataset.</li>
        </ul>
      </li>
      <li class="next">
        The <a href="#sparql-protocol">SPARQL protocol</a>
        is a <a href="../web-apis/#definition">Web API</a> definition<br>
        for querying in the SPARQL language over HTTP.
        <ul>
          <li>
            A <em>SPARQL endpoint</em> executes SPARQL queries sent by clients<br>
            through HTTP, and replies with their results.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="sparql-query-forms">
    <h2>
      The <a href="https://www.w3.org/TR/sparql11-overview/">SPARQL language</a> defines<br>
      forms a query can take.
    </h2>
    <p>There are currently 4 read-only query forms:</p>
    <dl>
      <dt><a href="https://www.w3.org/TR/sparql11-query/#select"><code>SELECT</code></a></dt>
      <dd>find values that satisfy conditions</dd>
      <dt><a href="https://www.w3.org/TR/sparql11-query/#construct"><code>CONSTRUCT</code></a></dt>
      <dd>create triples that satisfy conditions</dd>
      <dt><a href="https://www.w3.org/TR/sparql11-query/#ask"><code>ASK</code></a></dt>
      <dd>check whether data exists</dd>
      <dt><a href="https://www.w3.org/TR/sparql11-query/#describe"><code>DESCRIBE</code></a></dt>
      <dd>show information about a resource</dd>
    </dl>
  </div>


  <div class="slide" id="sparql-query-forms-writing">
    <h2>
      The <a href="https://www.w3.org/TR/sparql11-overview/">SPARQL language</a> defines<br>
      forms a query can take.
    </h2>
    <p>There are currently 2 write-only query forms:</p>
    <dl>
      <dt><a href="https://www.w3.org/TR/2013/REC-sparql11-update-20130321/#insertData"><code>INSERT DATA</code></a></dt>
      <dd>adds some triples</dd>
      <dt><a href="https://www.w3.org/TR/2013/REC-sparql11-update-20130321/#deleteData"><code>DELETE DATA</code></a></dt>
      <dd>removes some triples</dd>
    </dl>
  </div>
  
  <div class="slide" id="bgp">
    <h2>
      The main building block of a SPARQL query<br>
      is a <a href="https://www.w3.org/TR/sparql11-query/#BasicGraphPatterns">Basic Graph Pattern (BGP)</a>.
    </h2>
    <ul>
      <li>
        A BGP is a set of <em>triple patterns</em>.
        <ul>
          <li>Their syntax is a superset of <a href="#turtle">Turtle</a>.</li>
        </ul>
      </li>
      <li class="next">
        A <a href="https://www.w3.org/TR/sparql11-query/#QSynTriples">triple pattern</a>
        is a triple in which<br>
        each of the components can be a <a href="https://www.w3.org/TR/sparql11-query/#QSynVariables">variable</a>.
        <ul>
          <li>Variables start with a question mark (<code>?name</code>).</li>
        </ul>
      </li>
      <li class="next">
        A SPARQL query engine finds <a href="https://www.w3.org/TR/sparql11-query/#sparqlSolutions">solution mappings</a>.
        <ul>
          <li>
            Variables and blank nodes are mapped to IRIs,<br>
            blank nodes, or literals according to dataset triples.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="sparql-select-example">
    <h2>
      This query finds artists<br>
      influenced by Picasso.
    </h2>
    <pre><code><span class="comment">PREFIX dbr: &lt;http://dbpedia.org/resource/&gt;</span>
<span class="comment">PREFIX dbo: &lt;http://dbpedia.org/ontology/&gt;</span>
SELECT ?name ?person WHERE {
  ?person a dbo:Artist.
  ?person foaf:name ?name.
  ?person dbo:influencedBy dbr:Pablo_Picasso.
}</code></pre>
  </div>

  <div class="slide" id="sparql-select-evaluation">
    <h2>
      A query engine will try to find mappings<br>
      such that the entire BGP is satisfied.
    </h2>
    <p>
      When the mappings are substituted in the BGP,<br>
      the dataset should contain triples as follows:
    </p>
    <ul>
      <li><code>?person a dbo:Artist.</code></li>
      <li><code>?person foaf:name ?name.</code></li>
      <li><code>?person dbo:influencedBy dbr:Pablo_Picasso.</code></li>
    </ul>
  </div>

  <div class="slide" id="sparql-select-client">
    <h2>
      Evaluating this query against DBpedia<br>
      returns possible mappings.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=SELECT%20%3Fname%20%3Fperson%20WHERE%20%7B%0A%20%20%3Fperson%20a%20dbo%3AArtist.%0A%20%20%3Fperson%20foaf%3Aname%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%7D"></iframe>
  </div>

  <div class="slide" id="sparql-construct-client">
    <h2>
      A <code>CONSTRUCT</code> query<br>
      returns matching triples.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=CONSTRUCT%20WHERE%20%7B%0A%20%20%3Fperson%20a%20dbo%3AArtist.%0A%20%20%3Fperson%20foaf%3Aname%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%7D"></iframe>
  </div>

  <div class="slide" id="sparql-ask-client">
    <h2>
      An <code>ASK</code> query returns a boolean stating<br>
      whether the pattern exists in the dataset.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=ASK%20WHERE%20%7B%0A%20%20%3Fperson%20a%20dbo%3AArtist.%0A%20%20%3Fperson%20foaf%3Aname%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%7D"></iframe>
  </div>

  <div class="slide" id="sparql-describe-client">
    <h2>
      A <code>DESCRIBE</code> query returns (non-specified)<br>
      contextual information for resources.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=DESCRIBE%20%3Fperson%20WHERE%20%7B%0A%20%20%3Fperson%20foaf%3Aname%20%22Pablo%20Picasso%22%40en.%0A%7D"></iframe>
  </div>

  <div class="slide" id="sparql-modifiers">
    <h2>
      In addition to only BGPs,<br>
      SPARQL queries can contain <em>modifiers</em>.
    </h2>
    <dl>
      <dt><a href="https://www.w3.org/TR/rdf-sparql-query/#modResultLimit"><code>LIMIT</code></a></dt>
      <dd>only return the first <var>n</var> results</dd>
      <dt><a href="https://www.w3.org/TR/rdf-sparql-query/#OptionalMatching"><code>OPTIONAL</code></a></dt>
      <dd>specifies a left join</dd>
      <dt><a href="https://www.w3.org/TR/rdf-sparql-query/#tests"><code>FILTER</code></a></dt>
      <dd>selects based on an expression</dd>
      <dt><a href="https://www.w3.org/TR/rdf-sparql-query/#modOrderBy"><code>ORDER BY</code></a></dt>
      <dd>sorts results based on an expression</dd>
      <dt>…</dt>
      <dd>…</dd>
    </dl>
  </div>

  <div class="slide" id="sparql-modifiers-example">
    <h2>
      In addition to only BGPs,<br>
      SPARQL queries can contain <em>modifiers</em>.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=SELECT%20%3Fname%20%3Fperson%20%3Fspouse%20WHERE%20%7B%0A%20%20%3Fperson%20rdfs%3Alabel%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%20%20OPTIONAL%20%7B%20%3Fperson%20dbo%3Aspouse%20%3Fspouse.%20%7D%0A%20%20FILTER%20LANGMATCHES(LANG(%3Fname)%2C%20%22EN%22)%0A%7D%0ALIMIT%2010"></iframe>
  </div>

  <div class="slide" id="sparql-aggregators">
    <h2>
      In addition to only BGPs,<br>
      SPARQL queries can contain <em>aggregations</em>.
    </h2>
    <dl>
      <dt><a href="https://www.w3.org/TR/2013/REC-sparql11-query-20130321/#groupby"><code>GROUP BY</code></a></dt>
      <dd>groups bindings so aggregate functions can be used over the groups</dd>
      <dt><a href="https://www.w3.org/TR/2013/REC-sparql11-query-20130321/#having"><code>HAVING</code></a></dt>
      <dd>selects based on an expression on groups</dd>
    </dl>
    <ul>
      <li><a href="https://www.w3.org/TR/2013/REC-sparql11-query-20130321/#aggregates">Aggregate functions:</a>
        <ul>
          <li>COUNT</li>
          <li>SUM</li>
          <li>MIN</li>
          <li>MAX</li>
          <li>...</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="sparql-aggregators-example">
    <h2>
      In addition to only BGPs,<br>
      SPARQL queries can contain <em>aggregations</em>.
    </h2>
    <iframe class="website" src="https://query.linkeddatafragments.org/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=PREFIX%20dbo%3A%20%3Chttp%3A%2F%2Fdbpedia.org%2Fontology%2F%3E%0APREFIX%20rdfs%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0APREFIX%20dbp%3A%20%3Chttp%3A%2F%2Fdbpedia.org%2Fresource%2F%3E%0A%0ASELECT%20(count(%3Fperson)%20as%20%3Fcount)%20WHERE%20%7B%0A%20%20%3Fperson%20rdfs%3Alabel%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%7D%20GROUP%20BY%20(dbp%3APablo_Picasso%20as%20%3Fpablo)%0A%23%20HAVING%20(count(%3Fperson)%20%20%3E%20100)%0A"></iframe>
  </div>

  <div class="slide" id="sparql-protocol">
    <h2>
      The purpose of the <a href="https://www.w3.org/TR/sparql11-protocol">SPARQL protocol</a><br>
      is sending queries and receiving results.
    </h2>
    <ul>
      <li>
        The server is typically an RDF database (<em>triplestore</em>)<br>
        with a SPARQL query engine.
      </li>
      <li class="next">
        The client sends a query using a <a href="https://www.w3.org/TR/sparql11-protocol/#query-operation">URI template</a>.
        <ul>
          <li>
            In essence, <code>/sparql?query={query}</code> with<br>
            a URL-encoded SPARQL query through <code>GET</code> or <code>POST</code>.
          </li>
        </ul>
      </li>
      <li class="next">
        The server replies in a <a href="https://www.w3.org/TR/sparql11-protocol/#query-success">standardized format</a>.
        <ul class="inline">
          <li><a href="https://www.w3.org/TR/rdf-sparql-XMLres/">XML</a></li>
          <li><a href="https://www.w3.org/TR/sparql11-results-json/">JSON</a></li>
          <li><a href="https://www.w3.org/TR/sparql11-results-csv-tsv/">CSV/TSV</a></li>
          <li>RDF (for <code>CONSTRUCT</code>/<code>DESCRIBE</code>)</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide title" id="exercises">
    <figure class="cover width margin">
      <img src="images/exercises.svg" />
    </figure>
  </div>


  <div class="slide title" id="key-takeaways">
    <figure class="cover width margin">
      <img src="images/key_takeaways.svg" />
    </figure>
  </div>



  <div class="slide" id="key-takeaways-1">
    <h2>
      Data Publishing takeaways
    </h2>
    <ul>
      <li class="no-next">
        There’s no <em>silver bullet</em>.<br>
        Choose the trade-offs that best fit your use-case.
      </li>
      <li>
        Take advantage of <em>re-use</em> of data.<br>
        Your interface does not have to provide for the whole world.
      </li>
      <li class="no-next">
        Remember the 5 stars of Open Data.
      </li>
    </ul>
  </div>

  <div class="slide" id="five-star-open-data">
    <iframe class="website" src="https://5stardata.info/en/#by-example"></iframe>
  </div>

  <div class="slide" id="key-takeaways-2">
    <h2>
      Data Querying Takeaways
    </h2>
    <ul>
      <li>
        Query interfaces do not necessarily need<br>
        to be equal to server APIs.
      </li>
      <li>
        <a href="https://query.linkeddatafragments.org/">Comunica</a> enables you to query data over heterogeneous interfaces using SPARQL.
      </li>
      <li>
        <a href="https://query.linkeddatafragments.org/">Comunica</a> can use Link Traversal to query decentralized environments.
      </li>
    </ul>
  </div>





  <!-- <div class="slide " id="comunica_sparql">
    <h2>SPARQL language</h2>
    <ul>
      <li><strong>SPARQL</strong>: a language for reading and updating data in RDF datasets via <em>declarative queries</em>.</li>
      <li>
          Different query forms:
          <ul>
              <li><code>SELECT</code>: selecting values in tabular form</li>
              <li><code>CONSTRUCT</code>: construct new triples</li>
              <li><code>ASK</code>: check if data exists</li>
              <li><code>DESCRIBE</code>: describe a given resource</li>
              <li><code>INSERT</code>: insert new triples</li>
              <li><code>DELETE</code>: delete existing triples</li>
          </ul>
      </li>
  </ul>
  </div> -->
  <script src="_shared/scripts/shower.min.js"></script>
  <script src="_shared/scripts/enhancements.js"></script>
</body>
</html>

