<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <link rel="stylesheet" href="_shared/styles/shower-ruben.css">
  <link rel="stylesheet" href="_shared/styles/web-fundamentals.css">

  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <title>Querying the Web of data</title>
</head>
<body class="shower list">
  <header class="caption">
    <h1>
      <a class="series" href="#title">VAIA Course</a><br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h1>
  </header>

  <div class="title slide" id="title">
    <h2>
      <a class="series" href="#title">VAIA Course</a><br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <p>hosted by: 
      <br>
      <a href="https://pod.rubendedecker.be/profile/card#me">Ruben Dedecker</a>
      <br>
      <a href="https://github.com/woutslabbinck/">Wout Slabbinck</a>
      <br>
      <a href="https://pietercolpaert.be/#me">Pieter Colpaert</a>
    </p>
    <p class="affiliation">
      <a href="http://www.ugent.be/"><img  class="ugent"  src="_shared/images/logos/ugent.svg"  alt="Ghent University"></a>
      <a href="http://www.imec.be/"><img class="imec" src="_shared/images/logos/imec.svg" alt="imec"></a>
      <a href="http://idlab.ugent.be/"><img class="idlab" src="_shared/images/logos/idlab.svg" alt="IDLab"></a>
    </p>
  </div>


  <div class="slide" id="you-are-here">
    <figure class="cover width margin">
      <img src="images/youarehere.png" />
    </figure>
  </div>

  <div class="slide title" id="overview">
    <h3>Linked Data from publication to query</h3>
    
    TODO:: Intro

  </div>


  <div class="slide" id="linked-data-documents-example">
    <h2>
      Linked Data documents provide<br>
      per-topic access to a&nbsp;dataset.
    </h2>
    <iframe class="website" src="https://www.wikidata.org/wiki/Q80"></iframe>
  </div>


  <div class="slide toc" id="toc">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li>
        <a href="#toc-ecosystem">Web APIs</a>
      </li>
      <li>
        <a href="#toc-publishing">Linked Data Publishing</a>
      </li>
      <li>
        <a href="#toc-querying">Querying Linked Data with Comunica</a>
      </li>
      <li>
        <a href="#toc-comunica">The SPARQL query language</a>
      </li>
    </ul>
  </div>

  <div class="slide toc" id="toc-ecosystem">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li class="current">
        <a href="#toc-ecosystem">Web APIs</a>
      </li>
      <li>
        <a href="#toc-publishing">Linked Data Publishing</a>
      </li>
      <li>
        <a href="#toc-querying">Querying Linked Data with Comunica</a>
      </li>
      <li>
        <a href="#toc-comunica">The SPARQL query language</a>
      </li>
    </ul>
  </div>


  <div class="slide " id="overview">
    <h2>How can a client use my data?</h2>
    <ul>
      <li>
        We have data on our server that a client can use!
        <ul>
          <li>
            How can the client find the data it needs?
            How can a client retrieve the found data?
            ...
          </li>
        </ul>
      </li>
    </ul>
    <p style="color:red; font-weight: bold;">TODO:: more</p>
    
  </div>


  <div class="slide " id="overview">
    <h2>What is a Web API?</h2>
    <figure class="width margin">
      <img src="images/Web _API.svg" alt="Current Web Ecosystem" style="width: 90%;" />
    </figure>
    <p style="color:red; font-weight: bold;">TODO:: not such a good image here</p>
  </div>



  <div class="slide" id="state_of_web">
    <h2>A lot of different Web APIs</h2>
    <p style="color:red; font-weight: bold;">TODO:: explain why there is a tight coupling between APIs and applications because apis are pretty specific in what data they provide access to</p>
  </div>


  <div class="slide" id="state_of_web">
    <h2>A Web of tight coupling</h2>
    <figure class="width margin">
      <img src="images/state_current_web.svg" alt="Current Web Ecosystem" style="width: 90%;" />
    </figure>
    
  </div>



  <div class="slide " id="overview">
    <h2>Data on the Web</h2>
    <ul>
      <li class="no-next">The current Web provides scalability in amount of clients, not in amount data sources</li>
      <li class="no-next">There is no inherent scalability in the integration of APIs</li>
      <li class="no-next">Scalability comes from integration of data</li>
    </ul>
  </div>

  <div class="slide " id="example-api">
    <h2>A classic Web API</h2>

    <p style="color:red; font-weight: bold;">TODO:: dont like this too much</p>
    <pre><code>
      youraveragewebapi.com/API?artistid=2354
      {
        "id": 2354,
        "name": "Nickleback",
        "albums": [ ... ],
        "singles": [ ... ],
        "earnings": [ 256.324.245, ... ]
      }
      </code></pre>
    </ul>
  </div>

  

  <div class="slide" id="overview">
    <h2>Reusing the API</h2>
    <p style="color:red; font-weight: bold;">TODO:: remove?</p>
    <ul>
      <li>
      Start looking for the documentation on their website!
      </li>
    </ul>
    <pre><code>
      youraveragewebapi.com/API?artistid=2354
      {
        "id": 2354,
        "name": "Nickleback",
        "albums": [ ... ],
        "singles": [ ... ],
        "earnings": [ 256.324.245, ... ]
      }
      </code></pre>
  </div>

  
  <div class="slide " id="api-integration-limitations">
    <h2>Integrating APIs is not scalable</h2>
    <ul>
      <li>
        APIs can take any number of different shapes
        <ul>
          <li>
            Integration requires manual effort
          </li>
          <li>
            Standardization can happen over large platforms
          </li>
        </ul>
      </li>
      <li>
        They are often designed to provide access to a select set of data to enable a select set of functionality
      </li>
    </ul>
  </div>

  <div class="slide " id="api-integration-limitations">
    <h2>Integrating APIs is not scalable</h2>
    <ul>
      <li>
        APIs can take any number of different shapes
        <ul>
          <li>
            Integration requires manual effort
          </li>
          <li>
            Standardization can happen over large platforms
          </li>
        </ul>
      </li>
      <li>
        APIs contain implicit context about served data
        <ul>
          <li>
            Integration requires manual effort
          </li>
          <li>
            Standardization can happen over large platforms
          </li>
        </ul>
      </li>
    </ul>
  </div>





  <div class="slide " id="overview">
    <h2>Moving towards a scalable Web ecosystem</h2>
    <ul>
      <li>To tackle these challenges, we need to find solutions </li>
      <li class="no-next">There is no inherent scalability in the integration of APIs</li>
      <li class="no-next">Scalability comes from integration of data</li>
    </ul>
  </div>



  <div class="slide " id="overview">
    <h2>Data publication on the Web</h2>
    <ul>
      <li class="no-next">The current Web provides scalability in amount of clients, not in amount data sources</li>
      <li class="no-next">There is no inherent scalability in the integration of APIs</li>
      <li class="no-next">Scalability comes from integration of data</li>
    </ul>
  </div>


  <div class="slide " id="web_scalability">
    <h2>A Web of API integration</h2>
    <ul>
      <li class="no-next">The current Web provides scalability in amount of clients, not in amount data sources</li>
      <li class="no-next">There is no inherent scalability in the integration of APIs</li>
      <li class="no-next">Scalability comes from integration of data</li>
    </ul>
  </div>

  <div class="slide " id="data_silos">
    <h2>Data Silos on the Web</h2>
    <img src="logos.png" style="height: 50vh;" />
  </div>

  <div class="slide " id="data_silos">
    <h2>Dependency of APIs leads to centralization</h2>
    <ul>
      <li>
        We want to be independent of these data Silos
        <ul>
          <li>
            We need solutions that enable us to scale our requests to higher numbers of data sources without integrating a new API for each source    
          </li>
        </ul>
      </li>
    </ul>
    <p style="color:red; font-weight: bold;">TODO:: slide</p>
  </div>

  <div class="slide " id="data_silos">
    <h2>What do we need for this scalability</h2>
    <ul>
      <li>
        We need to be able to understand the data,
        independently of the API over which it was retrieved.
        <ul>
          <li>We cannot read the documentation of 100 APIs to understand how to interpret returned data."</li>
        </ul>
      </li>
      <li>
        We need to provide interfaces that can move this data from servers to clients in a way that works for both
        <ul>
          <li>
            As APIs are no longer tailor made for a single usecase, 
            not every server will be able to provide exactly what any client requires. 
          </li>
        </ul>
      </li>
    </ul>
    <p style="color:red; font-weight: bold;">TODO:: slide</p>
  </div>



  <div class="slide toc" id="toc-publishing">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li>
        <a href="#toc-ecosystem">Web APIs</a>
      </li>
      <li class="current">
        <a href="#toc-publishing">Linked Data Publishing</a>
        <ul>
          <li>
            <a href="#toc-publishing">Data publishing strategies</a>
          </li>
          <li>
            <a href="#toc-ldes">Building a low-cost high-reuse interface</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#toc-querying">Querying Linked Data with Comunica</a>
      </li>
      <li>
        <a href="#toc-comunica">The SPARQL query language</a>
      </li>
    </ul>
  </div>


  <div class="slide " id="data_publishing_strategies">
    <h2>Different data publishing strategies</h2>
    <ul>
      <li class="no-next">
        <a href="https://ruben.verborgh.org/blog/2021/12/23/reflections-of-knowledge/#universal-api">
          There is no universal API that satisfies the data selection needs of all clients
        </a>
      </li>
      <li class="no-next">
        API design needs to balance client data selection requirements with the capabilities of the data publisher.
      </li>
    </ul>
  </div>

  
  <div class="slide" id="linked-data-publishing">
    <h2>
      There are roughly 3&nbsp;ways of<br>
      publishing Linked Data on the Web.
    </h2>
    <ul>
      <li>
        <a href="#data-dump">data dump</a>
        <ul>
          <li class="no-next">provide an archive file with the entire dataset</li>
        </ul>
      </li>
      <li>
        <a href="#sparql-endpoints">SPARQL endpoint</a>
        <ul>
          <li class="no-next">expose a&nbsp;triple&nbsp;store’s query interface</li>
        </ul>
      </li>
      <li>
        <a href="#linked-data-documents">Linked Data documents</a>
        <ul>
          <li class="no-next">browse triples per resource / topic</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="data-dump">
    <h2>
      A&nbsp;data dump places all dataset triples<br>
      in one or more archive files.
    </h2>
    <ul>
      <li>
        Dumps need to be downloaded entirely<br>
        before they can be queried.
        <ul>
          <li>Dump files can be several gigabytes.</li>
        </ul>
      </li>
      <li class="no-next">
        They offer the client full flexibility<br>
        to choose how data is processed.
      </li>
      <li class="no-next">
        Keeping data up-to date requires effort.
        <ul>
          <li>redownload the entire dump</li>
          <li>download and apply incremental patches</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="data-dump-example">
    <h2>
      A&nbsp;data dump places all dataset triples<br>
      in one or more archive files.
    </h2>
    <iframe class="website" src="https://downloads.dbpedia.org/2016-04/core/"></iframe>
  </div>
  
  <div class="slide" id="sparql-endpoint">
    <h2>
      A&nbsp;SPARQL endpoint lets clients evaluate<br>
      arbitrary (read-only) queries on a&nbsp;server.
    </h2>
    <ul>
      <li class="no-next">
        This gives clients direct access to<br>
        (only) the data they are interested in.
        <ul>
          <li>Only very little bandwidth is required.</li>
        </ul>
      </li>
      <li class="no-next">
        Data is always up-to-date.
      </li>
      <li class="no-next">
        The per-request cost for SPARQL endpoints<br>
        is much higher than for other HTTP servers.
        <ul>
          <li>Few servers allow arbitrarily complicated queries.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="sparql-endpoint-example">
    <h2>
      A&nbsp;SPARQL endpoint lets clients evaluate<br>
      arbitrary (read-only) queries on a&nbsp;server.
    </h2>
    <iframe class="website" src="https://dbpedia.org/sparql"></iframe>
  </div>

  <div class="slide" id="linked-data-documents">
    <h2>
      Linked Data documents provide<br>
      per-topic access to a&nbsp;dataset.
    </h2>
    <ul>
      <li class="no-next">
        They follow the <a href="../semantic-web/#linked-data-principles">Linked Data principles</a>.
        <ul>
          <li>The information structure resembles typical webpages.</li>
        </ul>
      </li>
      <li class="no-next">
        Browsing up-to-date datasets is straightforward.
      </li>
      <li class="no-next">
        Query evaluation is possible through<br>
        <a href="http://squin.sourceforge.net/index.shtml">link-traversal-based querying</a>.
        <ul>
          <li>
            The evaluation of SPARQL queries is rather slow.
          </li>
          <li>
            Completeness cannot always be guaranteed.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="linked-data-documents-example">
    <h2>
      Linked Data documents provide<br>
      per-topic access to a&nbsp;dataset.
    </h2>
    <iframe class="website" src="https://www.wikidata.org/wiki/Q80"></iframe>
  </div>

  <div class="slide " id="publishing_solid">
    <h2>Solid: Linked Data Platform (LDP)</h2>
    <ul>
      <li class="no-next">
        <a href="https://www.w3.org/TR/ldp/">The Solid project makes use of the Linked Data Platform interface</a>
        <ul>
          <li>
            Data is stored as a hierarchy of documents that do not provide inherent information to their contents.
          </li>
        </ul>
      </li>
      <li class="no-next">
        <a href="http://squin.sourceforge.net/index.shtml">Again we can use link-traversal-based querying solutions</a>.
        <ul>
          <li>
            The creation of specific indexes speeds up the process.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide " id="publishing_solid-example">
    <h2>Solid: Linked Data Platform (LDP)</h2>
    <iframe class="website" src="https://woutslabbinck.inrupt.net/"></iframe>
  </div>

  <div class="slide" id="linked-data-spectrum">
    <h2>
      Possible Linked Data interfaces exist<br>
      in between the two extremes.
    </h2>
    <iframe class="image" src="images/ldf-axis.svg"></iframe>
  </div>

  <div class="slide" id="ldf-characteristics">
    <h2>
      Each type of Linked Data Fragment<br>
      is defined by three characteristics.
    </h2>
    <h3>Linked Data Fragment</h3>
    <dl>
      <dt>data</dt>
      <dd class="no-next"><em>What triples does the fragment contain?</em></dd>
      <dt>metadata</dt>
      <dd class="no-next"><em>Do we know more about the data/fragment?</em></dd>
      <dt>controls</dt>
      <dd class="no-next"><em>How can we access more data?</em></dd>
    </dl>
  </div>

  <div class="slide" id="data-dump-characteristics">
    <h2>
      Each type of Linked Data Fragment<br>
      is defined by three characteristics.
    </h2>
    <h3>data dump</h3>
    <dl>
      <dt>data</dt>
      <dd>all dataset triples</dd>
      <dt>metadata</dt>
      <dd>number of triples, file size</dd>
      <dt>controls</dt>
      <dd><em>(none)</em></dd>
    </dl>
  </div>
  
  <div class="slide" id="sparql-result-characteristics">
    <h2>
      Each type of Linked Data Fragment<br>
      is defined by three characteristics.
    </h2>
    <h3>SPARQL query result</h3>
    <dl>
      <dt>data</dt>
      <dd>triples matching the query</dd>
      <dt>metadata</dt>
      <dd><em>(none)</em></dd>
      <dt>controls</dt>
      <dd><em>(none)</em></dd>
    </dl>
  </div>

  <div class="slide" id="ld-document-characteristics">
    <h2>
      Each type of Linked Data Fragment<br>
      is defined by three characteristics.
    </h2>
    <h3>Linked Data document</h3>
    <dl>
      <dt>data</dt>
      <dd>triples about a&nbsp;topic</dd>
      <dt>metadata</dt>
      <dd>creator, maintainer, …</dd>
      <dt>controls</dt>
      <dd>links to other Linked Data documents</dd>
    </dl>
  </div>

  <div class="slide" id="new-tradeoff-mix">
    <h2>
      Different Publishing interfaces provide different trade-offs
    </h2>
    <iframe class="image" src="images/ldf-axis.svg"></iframe>
  </div>

  <div class="slide" id="hdt">
    <h2>
      Triple Pattern Fragments are lightweight,<br>
      because they do not <em>require</em> a&nbsp;triple store.
    </h2>
    <ul>
      <li>
        The interface can be realized with many back-ends.<br>
        <ul>
          <li>A&nbsp;SPARQL endpoint <em>could</em> serve as back-end.</li>
        </ul>
      </li>
      <li class="no-next">
        Since queries are relatively simple,<br>
        a&nbsp;less expensive data infrastructure is sufficient.
      </li>
      <li class="no-next">
        The <a href="http://www.rdfhdt.org/">Header–Dictionary–Triples (HDT)</a> format<br>
        stores triples in a&nbsp;compressed file.
        <ul>
          <li>Especially triple-pattern lookups (and counts) are fast.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="tpf-example">
    <h2>
      This Triple Pattern Fragment shows<br>
      <a href="https://fragments.dbpedia.org/2016-04/en?subject=&amp;predicate=http%3A%2F%2Fdbpedia.org%2Fontology%2FbirthPlace&amp;object=http%3A%2F%2Fdbpedia.org%2Fresource%2FLondon">subjects born in London</a> from <a href="https://wiki.dbpedia.org/">DBpedia</a>.
    </h2>
    <iframe class="website" src="https://fragments.dbpedia.org/2016-04/en?subject=&amp;predicate=http%3A%2F%2Fdbpedia.org%2Fontology%2FbirthPlace&amp;object=http%3A%2F%2Fdbpedia.org%2Fresource%2FLondon"></iframe>
  </div>

  <div class="slide" id="tpf-characteristics">
    <h2>
      A&nbsp;Triple Pattern Fragment is designed<br>
      to have a&nbsp;good information/cost balance.
    </h2>
    <h3>Triple Pattern Fragment</h3>
    <dl>
      <dt>data</dt>
      <dd class="no-next">matches of a&nbsp;triple pattern <em>(paged)</em></dd>
      <dt>metadata</dt>
      <dd class="no-next">total number of matches</dd>
      <dt>controls</dt>
      <dd class="no-next">access to all other Triple Pattern Fragments<br> of the same dataset</dd>
    </dl>
  </div>

  <div class="slide " id="publishing_tree_ldes">
    <h2>TREE Hypermedia - Linked Data Event Streams (LDES)</h2>
    <ul>
      <li class="no-next">
        <a href="https://w3id.org/tree/specification">TREE Hypermedia Specification</a>
        <ul>
          <li>Collection of RDF items (members)</li>
          <li>Hypermedia relations to query the collection</li>
        </ul>
      </li>
      <li class="no-next">
        <a href="https://w3id.org/ldes/specification">Linked Data Event Stream</a> 
        <ul>
          <li>Extension of a TREE collection where each member is immutable</li>
          <li>
      </li>
    </ul>
  </div>

  <div class="slide " id="publishing_tree_ldes-example">
    <h2>TREE Hypermedia - Linked Data Event Streams (LDES)</h2>
    TODO: maybe use Pieter C slides? -> this demo currently sucks...
    <iframe class="website" src="https://treecg.github.io/TREE-LDES-visualizer/"></iframe>
  </div>


  <div class="slide" id="sparql-result-characteristics">
    <h2>
      Each type of Linked Data Fragment<br>
      is defined by three characteristics.
    </h2>
    <h3>Tree hypermedia APIs</h3>
    <dl>
      <dt>data</dt>
      <dd>triples matching a set of hypermedia relations</dd>
      <dt>metadata</dt>
      <dd><em>remaining number of entities in the subtree</em></dd>
      <dt>controls</dt>
      <dd><em>available relations</em></dd>
    </dl>
  </div>

  <div class="slide" id="final-answer">
    <h2>
      These available interfaces are not the final answer.<br>
      No interface ever will be.
    </h2>
    <ul>
      <li class="no-next">
        There’s no <em>silver bullet</em>.<br>
        Publication and querying <em>always</em> involves trade-offs.
      </li>
      <li class="no-next">
        For a scalable Web, we require <strong>simple servers</strong>
        that enable <strong>smart clients</strong> to efficiently query data.
      </li>
    </ul>
  </div>




  <div class="slide toc" id="toc-ldes">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li>
        <a href="#toc-ecosystem">Web APIs</a>
      </li>
      <li class="current">
        <a href="#toc-publishing">Linked Data Publishing</a>
        <ul>
          <li>
            <a href="#toc-publishing">Data publishing strategies</a>
          </li>
          <li class="current">
            <a href="#toc-ldes">Building a low-cost high-reuse interface</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#toc-querying">Querying Linked Data with Comunica</a>
      </li>
      <li>
        <a href="#toc-comunica">The SPARQL query language</a>
      </li>
    </ul>
  </div>

  <div class="slide title" id="querying_interfaces_data_dump">
    <h2>Building interfaces for low-cost and high-reuse</h2>
    
  </div>



  <div class="slide toc" id="toc-querying">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li>
        <a href="#toc-ecosystem">Web APIs</a>
      </li>
      <li>
        <a href="#toc-publishing">Linked Data Publishing</a>
      </li>
      <li class="current">
        <a href="#toc-querying">Querying Linked Data with Comunica</a>
      </li>
      <li>
        <a href="#toc-comunica">The SPARQL query language</a>
      </li>
    </ul>
  </div>
  
  <div class="slide " id="querying_interfaces_data_dump">
    <h2>Querying a data dump</h2>
    <ul>
      <li class="no-next">Download the data dump</li>
      <li class="no-next">Load the files using a library such as <a href="https://github.com/rdfjs/N3.js">N3.js</a></li>
      <li class="no-next">Query the data using the library</li>
    </ul>
  </div>

  <div class="slide " id="querying_interfaces_data_dump-downsides">
    <h2>Querying a data dump</h2>
    <ul>
      <li class="no-next">
        Downsides
        <ul>
          <li class="no-next">Requires downloading all the data - even when you only are interested in a small part</li>
          <li class="no-next">New version? A full download of the new version is required or incremental patches have to be applied</li>
        </ul>
      </li>
      <!-- Any pros we can think of? Maybe full flexibility, but that was already in the previous slide -->
    </ul>
  </div>
 
  <div class="slide " id="querying_interfaces_data_dump-example">
    <h2>Querying a data dump: javascript example</h2>
    <pre><code>
      const response = await fetch(sourceUrl);
      const text = await response.text();
      const textStream = streamifyString(text);
      const quadStream = rdfParser.parse(textStream,
        {contentType: 'text/turtle'});
      const store = await storeStream(quadStream);

      store.getQuads()
    </code></pre>
    <footer class="notes">
      First, the data dump is downloaded using the fetch method. This executes an HTTP GET to the source.
      The second step serializes the body from the response into a string.
      Line 3 to 5 convert the string to an N3 Store.
      Finally, we can actually process/query the data using the N3 functions.
    </footer>
  </div>

  <div class="slide " id="querying_interfaces_solid">
  <h2>Querying a Solid pod</h2>
  <ul>
    <li class="no-next">A solid pod contains documents
      <ul>
        <li class="no-next">Each document can be queried like a data dump</li>
        <li class="no-next">Due to authorization, you can only download what you are allowed to read</li>
      </ul>
    </li>
    <li class="no-next">A solid pod allows for building systems
      <ul>
        <li class="no-next">Data can be written to a solid pod (in contrast to a data dump)</li>
      </ul>
    </li>
  </ul>
  </div>

  <div class="slide " id="querying_interfaces_solid-example">

  </div>

  <div class="slide " id="querying_interfaces_ldes">
    <h2>Querying an LDES</h2>
  </div>

  <div class="slide " id="querying_interfaces_ldes-example">
    <h2>Querying an LDES</h2>
    <iframe class="website" src="https://tree.linkeddatafragments.org/demo/autocompletion/"></iframe>
  </div>

  <div class="slide " id="querying_interfaces_sparql">
    <h2>Querying a SPARQL endpoint</h2>
  </div>
  <div class="slide " id="querying_interfaces_tpf">
    <h2>Querying an LDES</h2>
  </div>

  <div class="slide " id="querying_interfaces_ldes">
    <h2>Querying an LDES</h2>
  </div>

  <div class="slide " id="querying_interfaces_ldes-example">
    <h2>Querying an LDES</h2>
    <iframe class="website" src="https://tree.linkeddatafragments.org/demo/autocompletion/"></iframe>
  </div>

  <div class="slide " id="querying_interfaces_sparql">
    <h2>Querying a SPARQL endpoint</h2>
  </div>

  <div class="slide toc" id="toc-sparql">
    <h2>
      <a class="series" href="../">VAIA Course</a>
      <br>
      <a class="module" href="#title">Querying the Web of data</a>
    </h2>
    <ul>
      <li>
        <a href="#toc-ecosystem">Web APIs</a>
      </li>
      <li>
        <a href="#toc-publishing">Linked Data Publishing</a>
      </li>
      <li>
        <a href="#toc-querying">Querying Linked Data with Comunica</a>
      </li>
      <li class="current">
        <a href="#toc-sparql">The SPARQL query language</a>
      </li>
    </ul>
  </div>

  <div class="slide " id="comunica">
    <h2><a href="https://comunica.dev">Comunica</a></h2>
    <ul>
      <li class="no-next">A knowledge graph querying framework</li>
      <li class="no-next">Querying over heterogeneous interfaces</li>
      <ul>
        <li class="no-next">Goal: executing <b>SPARQL</b> queries over one or more <b>interfaces</b></li>
      </ul>
      <li class="no-next"></li>
    </ul>
    <footer class="notes">
      <a href="https://comunica.dev/about/">Comunica</a> is a querying framework that has been designed to handle different types of Linked Data interfaces in a flexible manner. Its primary goal is executing SPARQL queries over one or more interfaces.

      SPARQL Protocol And RDF Query Language
    </footer>
  </div>

  <div class="slide" id="sparql-language-protocol">
    <h2>
      <a href="https://www.w3.org/TR/sparql11-overview/">SPARQL Protocol And RDF Query Language</a>:
      enable querying &amp; updating RDF datasets.
    </h2>
    <ul>
      <li class="next">
        <a href="#sparql-query-forms">SPARQL</a> is a query language.
        <ul>
          <li>Select specific data from an RDF dataset.</li>
          <li>Insert, change, or delete data in an RDF dataset.</li>
        </ul>
      </li>
      <li class="next">
        The <a href="#sparql-protocol">SPARQL protocol</a>
        is a <a href="../web-apis/#definition">Web API</a> definition<br>
        for querying in the SPARQL language over HTTP.
        <ul>
          <li>
            A <em>SPARQL endpoint</em> executes SPARQL queries sent by clients<br>
            through HTTP, and replies with their results.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="sparql-query-forms">
    <h2>
      The <a href="https://www.w3.org/TR/sparql11-overview/">SPARQL language</a> defines<br>
      forms a query can take.
    </h2>
    <p>There are currently 4 read-only query forms:</p>
    <dl>
      <dt><a href="https://www.w3.org/TR/sparql11-query/#select"><code>SELECT</code></a></dt>
      <dd>find values that satisfy conditions</dd>
      <dt><a href="https://www.w3.org/TR/sparql11-query/#construct"><code>CONSTRUCT</code></a></dt>
      <dd>create triples that satisfy conditions</dd>
      <dt><a href="https://www.w3.org/TR/sparql11-query/#ask"><code>ASK</code></a></dt>
      <dd>check whether data exists</dd>
      <dt><a href="https://www.w3.org/TR/sparql11-query/#describe"><code>DESCRIBE</code></a></dt>
      <dd>show information about a resource</dd>
    </dl>
  </div>


  <div class="slide" id="sparql-query-forms-writing">
    <h2>
      The <a href="https://www.w3.org/TR/sparql11-overview/">SPARQL language</a> defines<br>
      forms a query can take.
    </h2>
    <p>There are currently 2 write-only query forms:</p>
    <dl>
      <dt><a href="https://www.w3.org/TR/2013/REC-sparql11-update-20130321/#insertData"><code>INSERT DATA</code></a></dt>
      <dd>adds some triples</dd>
      <dt><a href="https://www.w3.org/TR/2013/REC-sparql11-update-20130321/#deleteData"><code>DELETE DATA</code></a></dt>
      <dd>removes some triples</dd>
    </dl>
  </div>
  
  <div class="slide" id="bgp">
    <h2>
      The main building block of a SPARQL query<br>
      is a <a href="https://www.w3.org/TR/sparql11-query/#BasicGraphPatterns">Basic Graph Pattern (BGP)</a>.
    </h2>
    <ul>
      <li>
        A BGP is a set of <em>triple patterns</em>.
        <ul>
          <li>Their syntax is a superset of <a href="#turtle">Turtle</a>.</li>
        </ul>
      </li>
      <li class="next">
        A <a href="https://www.w3.org/TR/sparql11-query/#QSynTriples">triple pattern</a>
        is a triple in which<br>
        each of the components can be a <a href="https://www.w3.org/TR/sparql11-query/#QSynVariables">variable</a>.
        <ul>
          <li>Variables start with a question mark (<code>?name</code>).</li>
        </ul>
      </li>
      <li class="next">
        A SPARQL query engine finds <a href="https://www.w3.org/TR/sparql11-query/#sparqlSolutions">solution mappings</a>.
        <ul>
          <li>
            Variables and blank nodes are mapped to IRIs,<br>
            blank nodes, or literals according to dataset triples.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="sparql-select-example">
    <h2>
      This query finds artists<br>
      influenced by Picasso.
    </h2>
    <pre><code><span class="comment">PREFIX dbr: &lt;http://dbpedia.org/resource/&gt;</span>
<span class="comment">PREFIX dbo: &lt;http://dbpedia.org/ontology/&gt;</span>
SELECT ?name ?person WHERE {
  ?person a dbo:Artist.
  ?person foaf:name ?name.
  ?person dbo:influencedBy dbr:Pablo_Picasso.
}</code></pre>
  </div>

  <div class="slide" id="sparql-select-evaluation">
    <h2>
      A query engine will try to find mappings<br>
      such that the entire BGP is satisfied.
    </h2>
    <p>
      When the mappings are substituted in the BGP,<br>
      the dataset should contain triples as follows:
    </p>
    <ul>
      <li><code>?person a dbo:Artist.</code></li>
      <li><code>?person foaf:name ?name.</code></li>
      <li><code>?person dbo:influencedBy dbr:Pablo_Picasso.</code></li>
    </ul>
  </div>

  <div class="slide" id="sparql-select-client">
    <h2>
      Evaluating this query against DBpedia<br>
      returns possible mappings.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=SELECT%20%3Fname%20%3Fperson%20WHERE%20%7B%0A%20%20%3Fperson%20a%20dbo%3AArtist.%0A%20%20%3Fperson%20foaf%3Aname%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%7D"></iframe>
  </div>

  <div class="slide" id="sparql-construct-client">
    <h2>
      A <code>CONSTRUCT</code> query<br>
      returns matching triples.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=CONSTRUCT%20WHERE%20%7B%0A%20%20%3Fperson%20a%20dbo%3AArtist.%0A%20%20%3Fperson%20foaf%3Aname%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%7D"></iframe>
  </div>

  <div class="slide" id="sparql-ask-client">
    <h2>
      An <code>ASK</code> query returns a boolean stating<br>
      whether the pattern exists in the dataset.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=ASK%20WHERE%20%7B%0A%20%20%3Fperson%20a%20dbo%3AArtist.%0A%20%20%3Fperson%20foaf%3Aname%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%7D"></iframe>
  </div>

  <div class="slide" id="sparql-describe-client">
    <h2>
      A <code>DESCRIBE</code> query returns (non-specified)<br>
      contextual information for resources.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=DESCRIBE%20%3Fperson%20WHERE%20%7B%0A%20%20%3Fperson%20foaf%3Aname%20%22Pablo%20Picasso%22%40en.%0A%7D"></iframe>
  </div>

  <div class="slide" id="sparql-modifiers">
    <h2>
      In addition to only BGPs,<br>
      SPARQL queries can contain <em>modifiers</em>.
    </h2>
    <dl>
      <dt><a href="https://www.w3.org/TR/rdf-sparql-query/#modResultLimit"><code>LIMIT</code></a></dt>
      <dd>only return the first <var>n</var> results</dd>
      <dt><a href="https://www.w3.org/TR/rdf-sparql-query/#OptionalMatching"><code>OPTIONAL</code></a></dt>
      <dd>specifies a left join</dd>
      <dt><a href="https://www.w3.org/TR/rdf-sparql-query/#tests"><code>FILTER</code></a></dt>
      <dd>selects based on an expression</dd>
      <dt><a href="https://www.w3.org/TR/rdf-sparql-query/#modOrderBy"><code>ORDER BY</code></a></dt>
      <dd>sorts results based on an expression</dd>
      <dt>…</dt>
      <dd>…</dd>
    </dl>
  </div>

  <div class="slide" id="sparql-modifiers-example">
    <h2>
      In addition to only BGPs,<br>
      SPARQL queries can contain <em>modifiers</em>.
    </h2>
    <iframe class="query-client" src="./_shared/query-client/#datasources=https%3A%2F%2Ffragments.dbpedia.org%2F2016-04%2Fen&query=SELECT%20%3Fname%20%3Fperson%20%3Fspouse%20WHERE%20%7B%0A%20%20%3Fperson%20rdfs%3Alabel%20%3Fname.%0A%20%20%3Fperson%20dbo%3AinfluencedBy%20dbp%3APablo_Picasso.%0A%20%20OPTIONAL%20%7B%20%3Fperson%20dbo%3Aspouse%20%3Fspouse.%20%7D%0A%20%20FILTER%20LANGMATCHES(LANG(%3Fname)%2C%20%22EN%22)%0A%7D%0ALIMIT%2010"></iframe>
  </div>

  <div class="slide" id="sparql-protocol">
    <h2>
      The purpose of the <a href="https://www.w3.org/TR/sparql11-protocol">SPARQL protocol</a><br>
      is sending queries and receiving results.
    </h2>
    <ul>
      <li>
        The server is typically an RDF database (<em>triplestore</em>)<br>
        with a SPARQL query engine.
      </li>
      <li class="next">
        The client sends a query using a <a href="https://www.w3.org/TR/sparql11-protocol/#query-operation">URI template</a>.
        <ul>
          <li>
            In essence, <code>/sparql?query={query}</code> with<br>
            a URL-encoded SPARQL query through <code>GET</code> or <code>POST</code>.
          </li>
        </ul>
      </li>
      <li class="next">
        The server replies in a <a href="https://www.w3.org/TR/sparql11-protocol/#query-success">standardized format</a>.
        <ul class="inline">
          <li><a href="https://www.w3.org/TR/rdf-sparql-XMLres/">XML</a></li>
          <li><a href="https://www.w3.org/TR/sparql11-results-json/">JSON</a></li>
          <li><a href="https://www.w3.org/TR/sparql11-results-csv-tsv/">CSV/TSV</a></li>
          <li>RDF (for <code>CONSTRUCT</code>/<code>DESCRIBE</code>)</li>
        </ul>
      </li>
    </ul>
  </div>
  <!-- <div class="slide " id="comunica_sparql">
    <h2>SPARQL language</h2>
    <ul>
      <li><strong>SPARQL</strong>: a language for reading and updating data in RDF datasets via <em>declarative queries</em>.</li>
      <li>
          Different query forms:
          <ul>
              <li><code>SELECT</code>: selecting values in tabular form</li>
              <li><code>CONSTRUCT</code>: construct new triples</li>
              <li><code>ASK</code>: check if data exists</li>
              <li><code>DESCRIBE</code>: describe a given resource</li>
              <li><code>INSERT</code>: insert new triples</li>
              <li><code>DELETE</code>: delete existing triples</li>
          </ul>
      </li>
  </ul>
  </div> -->
  <script src="_shared/scripts/shower.min.js"></script>
  <script src="_shared/scripts/enhancements.js"></script>
</body>
</html>
